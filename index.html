<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="icon" href="PlanetBouncer/favicon.ico" type="image/x-icon">
        <link href="https://fonts.googleapis.com/css2?family=Delius&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <script src="calculateResources.js"></script>
        
        <title>Planet Bouncer - Questionnaire with GPT</title>
        
        <style>
            /* General styles */
            body {
                font-family: Arial, sans-serif;
                background-color: #354259;
                margin: 0;
                display: flex;
                flex-direction: column;
                min-height: 100vh; /* Full height */
            }
            
            /* Main container */
            .main-container {
                width: 100%; /* Use full width */
                max-width: 1200px; /* Cap at 1200px */
                margin: 20px auto;
                display: flex;
                flex-direction: column;
                flex-grow: 1; /* Allow growth */
            }
            
            /* Content wrapper for horizontal layout */
            .content-wrapper {
                display: flex;
                justify-content: space-between; /* Space between sections */
                width: 100%; /* Full width */
                flex-grow: 1;
                gap: 0px; /* Space between sections */
                min-height: 85vh; /* Full content height */
            }
            
            /* Question Section */
            .question-section {
                background-color: #DCD7C9;
                border-radius: 8px;
                padding: 20px;
                margin-right: 20px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                flex: 1;
                max-height: 75vh;  /* Ensure it doesn't take too much space */
                overflow-y: auto;  /* Allows scrolling */
                position: relative;  /* Allows sticky element to stick inside this container */
            }
            
            /* Chatbot Section */
            .chatbot-section {
                background-color: #DCD7C9;
                border-radius: 8px;
                padding: 20px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                flex: 1; /* Equal growth with the question section */
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                max-height: 75vh; /* Height limit */
                max-width: 35%;
            }
            
            /* Chatbox inside chatbot section */
            .chatbox {
                height: 100%; /* Take full height */
                overflow-y: auto; /* Allow scroll */
            }
            
            /* Responsive settings */
            @media (max-width: 768px) {
                .content-wrapper {
                    flex-direction: column; /* Stack sections vertically */
                }
                .question-section,
                .chatbot-section {
                    width: 100%; /* Full width */
                }
            }
            
            /* Footer */
            .footer-container {
                width: 65%;
                text-align: center;
                padding: 10px 0;
                margin-top: auto;
            }

            .footer-text {
                font-size: 10px;
                color: #DCD7C9;
            }

            /* Chatbox scroll */
            .chatbox {
                height: 400px;
                overflow-y: auto;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 4px;
                background-color: #DCD7C9;
                margin-bottom: 20px;
            }

            h2 {
                font-family: 'Delius', sans-serif; /* Google Font */
                font-size: 36px; /* Adjust the size */
                color: #A27B5C; /* Tomato color, or choose any color */
                text-align: center;
                letter-spacing: 1px;
            }

            .question div {
                display: flex;
                align-items: center;
                margin-bottom: 5px;  /* Space between options */
            }

            /* Style for the question text only */
            .question label.question-text {
                font-weight: bold;  /* Makes the question text bold */
                font-size: 14px;
                display: block;  /* Ensure the label behaves like a block element */
                margin-top: 20px;
                margin-bottom: 14px;  /* Adds space between the question and the options */
            }
            
            /* Style for the radio button options */
            .question label.option-label {
                font-weight: normal;  /* Ensures the radio button labels are not bold */
                font-size: 12px;
                margin-left: 8px;  /* Adds some space between the radio button and the label */
            }

            .dropdown {
                width: 100%;
                padding: 10px;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #ddd;
            }

            .toggle {
                display: flex;
                justify-content: space-between;
                max-width: 250px;
                margin: 10px 0;
            }

            input[type="radio"] {
                margin-right: 10px;
                margin-bottom: 5px;
            }

            input[type="range"] {
                width: 100%;  /* Make the slider take the full width of the container */
                margin: 10px 0;
            }

            .chatbox {
                height: 400px;
                overflow-y: auto;
                padding: 10px;
                border: 1px solid #DCD7C9;
                border-radius: 4px;
                background-color: #DCD7C9;
                margin-bottom: 20px;
            }

            .message {
                margin: 10px 0;
                padding: 10px;
                border-radius: 4px;
            }

            .message.user {
                background-color: #DCD7C9;
                text-align: right;
            }

            .message.bot {
                background-color: #DCD7C9;  /* Background color for the bot messages */
                color: #A27B5C;  /* Define the font color for the bot's text */
                border-radius: 4px;
                padding: 10px;
                margin: 10px 0;
            }

            .input-area {
                display: flex;
            }

            .input-area input {
                flex: 1;
                padding: 10px;
                border: 1px solid #DCD7C9;
                background-color: #DCD7C9;
                border-radius: 4px;
                margin-right: 10px;
            }

            .input-area button {
                padding: 10px 20px;
                border: none;
                background-color: #3F4E4F;
                color: #DCD7C9;
                border-radius: 4px;
                cursor: pointer;
            }

            .input-area button:hover {
                background-color: #2C3639;
            }

            .submit-section-sticky {
                position: sticky;
                bottom: 0;  /* Makes it stick at the bottom of the container */
                background-color: #DCD7C9;
                padding: 10px;
                text-align: center;
                box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);  /* Optional shadow */
            }

            .submit-section-sticky button {
                padding: 10px 20px;
                border: none;
                background-color: #3F4E4F;
                color: #DCD7C9;
                border-radius: 4px;
                cursor: pointer;
            }

            .submit-section-sticky button:hover {
                background-color: #2C3639;
            }

            #sendBtn {
                background-color: transparent;  /* No background */
                border: none;  /* Remove the border */
                cursor: pointer;  /* Pointer cursor on hover */
            }

            #sendBtn i {
                font-size: 20px;  /* Adjust the size of the icon */
                color: #3F4E4F;  /* Set the icon color */
            }

            #sendBtn:hover i {
                color: #2C3639;  /* Change color on hover */
            }

            
            /* Responsive adjustments */
                    @media (max-width: 768px) {
                        .content-wrapper {
                            flex-direction: column; /* Stack vertically on smaller screens */
                        }
            
                        .question-section,
                        .chatbot-section {
                            width: 100%; /* Full width for both sections */
                        }
                    }
        </style>
    </head>

    
    <body>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Wrapper to hold question and chatbot sections side by side -->
            <div class="content-wrapper">
                <!-- Question Section -->
                <div class="question-section">
                    <h2>Planet Bouncer Questionnaire</h2>
                    
                    <!-- Housing Section -->
                    <div class="housing-section">
                        <h3>Housing</h3>

                        <div class="question">
                            <label class="question-text" for="homeType">1. What type of home do you live in?</label>
                            <div>
                                <input type="radio" id="apartment" name="homeType" value="Apartment" checked>
                                <label class="option-label" for="apartment">Apartment</label>
                            </div>
                            <div>
                                <input type="radio" id="house" name="homeType" value="House">
                                <label class="option-label" for="house">House</label>
                            </div>
                            <div>
                                <input type="radio" id="condo" name="homeType" value="Condo">
                                <label class="option-label" for="condo">Condo</label>
                            </div>
                            <div>
                                <input type="radio" id="townhouse" name="homeType" value="Townhouse">
                                <label class="option-label" for="townhouse">Townhouse</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="homeSize">2. What is the size of your home?</label>
                            <div>
                                <input type="radio" id="small" name="homeSize" value="Small" checked>
                                <label class="option-label" for="small">Less than 60m²</label>
                            </div>
                            <div>
                                <input type="radio" id="medium" name="homeSize" value="Medium">
                                <label class="option-label" for="medium">Between 60m² and 120m²</label>
                            </div>
                            <div>
                                <input type="radio" id="large" name="homeSize" value="Large">
                                <label class="option-label" for="large">More than 120m²</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text">3. Is your home well-insulated?</label>
                            <div>
                                <input type="radio" id="insulationTrue" name="insulation" value="True" checked>
                                <label class="option-label" for="insulationTrue">Yes</label>
                            </div>
                            <div>
                                <input type="radio" id="insulationFalse" name="insulation" value="False">
                                <label class="option-label" for="insulationFalse">No</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="energySaving">4. Do you use energy-saving appliances?</label>
                            <div>
                                <input type="radio" id="energySavingYes" name="energySaving" value="Yes" checked>
                                <label class="option-label" for="energySavingYes">Yes</label>
                            </div>
                            <div>
                                <input type="radio" id="energySavingNo" name="energySaving" value="No">
                                <label class="option-label" for="energySavingNo">No</label>
                            </div>
                            <div>
                                <input type="radio" id="energySavingSome" name="energySaving" value="Some">
                                <label class="option-label" for="energySavingSome">Some</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="energySavingFrequency">5. How often did you use energy-saving appliances over the past 30 days?</label>
                            <div>
                                <input type="radio" id="allTime" name="energySavingFrequency" value="All the time" checked>
                                <label class="option-label" for="allTime">All the time</label>
                            </div>
                            <div>
                                <input type="radio" id="mostTime" name="energySavingFrequency" value="Most of the time">
                                <label class="option-label" for="mostTime">Most of the time</label>
                            </div>
                            <div>
                                <input type="radio" id="rarely" name="energySavingFrequency" value="Rarely">
                                <label class="option-label" for="rarely">Rarely</label>
                            </div>
                            <div>
                                <input type="radio" id="never" name="energySavingFrequency" value="Never">
                                <label class="option-label" for="never">Never</label>
                            </div>
                        </div>
                        
                    </div>

                    <!-- Energy Section -->
                    <div class="energy-section">
                        <h3>Energy Use</h3>

                        <div class="question">
                            <label class="question-text" for="energyUsage">6. How much electricity do you use per month (in kWh)?</label>
                            <input type="range" id="energyUsage" name="energyUsage" min="500" max="1500" step="250" value="1000" oninput="updateSliderValue(this.value)">
                            <p>Electricity usage: <span id="sliderValue">1,000 kWh</span></p>
                        </div>

                        <div class="question">
                            <label class="question-text" for="renewableEnergy">7. Do you use renewable energy?</label>
                            <div>
                                <input type="radio" id="renewableYes" name="renewableEnergy" value="100% renewable" checked>
                                <label class="option-label" for="renewableYes">Yes, 100% renewable</label>
                            </div>
                            <div>
                                <input type="radio" id="partiallyRenewable" name="renewableEnergy" value="Partially renewable">
                                <label class="option-label" for="partiallyRenewable">Partially renewable</label>
                            </div>
                            <div>
                                <input type="radio" id="noRenewable" name="renewableEnergy" value="No">
                                <label class="option-label" for="noRenewable">No</label>
                            </div>
                            <div>
                                <input type="radio" id="unknownRenewable" name="renewableEnergy" value="I don’t know">
                                <label class="option-label" for="unknownRenewable">I don’t know</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="reduceElectricity">8. Did you make any efforts to reduce electricity usage during the past 30 days?</label>
                            <div>
                                <input type="radio" id="reduceYes" name="reduceElectricity" value="Yes" checked>
                                <label class="option-label" for="reduceYes">Yes</label>
                            </div>
                            <div>
                                <input type="radio" id="reduceNo" name="reduceElectricity" value="No">
                                <label class="option-label" for="reduceNo">No</label>
                            </div>
                        </div>
                    </div>
                        
                    <!-- Transportation Section -->
                    <div class="transportation-section">
                        <h3>Transportation</h3>

                        <div class="question">
                            <label class="question-text" for="vehicleType">9. Do you own a vehicle? If so, what type?</label>
                            <div>
                                <input type="radio" id="vehicleNone" name="vehicleType" value="None" checked>
                                <label class="option-label" for="vehicleNone">None</label>
                            </div>
                            <div>
                                <input type="radio" id="vehicleGasoline" name="vehicleType" value="Gasoline">
                                <label class="option-label" for="vehicleGasoline">Gasoline</label>
                            </div>
                            <div>
                                <input type="radio" id="vehicleDiesel" name="vehicleType" value="Diesel">
                                <label class="option-label" for="vehicleDiesel">Diesel</label>
                            </div>
                            <div>
                                <input type="radio" id="vehicleElectric" name="vehicleType" value="Electric">
                                <label class="option-label" for="vehicleElectric">Electric</label>
                            </div>
                            <div>
                                <input type="radio" id="vehicleHybrid" name="vehicleType" value="Hybrid">
                                <label class="option-label" for="vehicleHybrid">Hybrid</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="kilometersDriven">10. How many kilometers did you drive during the past month?</label>
                            <input type="range" id="kilometersDriven" name="kilometersDriven" min="0" max="1000" step="250" value="0" oninput="updateKilometersValue(this.value)">
                            <p>Kilometers driven: <span id="kilometersValue">0-100 km</span></p>
                        </div>

                        <div class="question">
                            <label class="question-text" for="publicTransport">11. How often did you use public transportation over the past 30 days?</label>
                            <div>
                                <input type="radio" id="transportDaily" name="publicTransport" value="Daily" checked>
                                <label class="option-label" for="transportDaily">Daily</label>
                            </div>
                            <div>
                                <input type="radio" id="transportSeveral" name="publicTransport" value="Several times a week">
                                <label class="option-label" for="transportSeveral">Several times a week</label>
                            </div>
                            <div>
                                <input type="radio" id="transportWeekly" name="publicTransport" value="Once a week">
                                <label class="option-label" for="transportWeekly">Once a week</label>
                            </div>
                            <div>
                                <input type="radio" id="transportRarely" name="publicTransport" value="Rarely">
                                <label class="option-label" for="transportRarely">Rarely</label>
                            </div>
                            <div>
                                <input type="radio" id="transportNever" name="publicTransport" value="Never">
                                <label class="option-label" for="transportNever">Never</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="flightsTaken">12. How many flights did you take during the past month?</label>
                            <div>
                                <input type="radio" id="flights0" name="flightsTaken" value="0 flights" checked>
                                <label class="option-label" for="flights0">0 flights</label>
                            </div>
                            <div>
                                <input type="radio" id="flights1" name="flightsTaken" value="1 flight">
                                <label class="option-label" for="flights1">1 flight</label>
                            </div>
                            <div>
                                <input type="radio" id="flights2" name="flightsTaken" value="2 flights">
                                <label class="option-label" for="flights2">2 flights</label>
                            </div>
                            <div>
                                <input type="radio" id="flights3Plus" name="flightsTaken" value="3+ flights">
                                <label class="option-label" for="flights3Plus">3+ flights</label>
                            </div>
                        </div>
                    </div>

                    <!-- Diet Section -->
                    <div class="diet-section">
                        <h3>Diet</h3>

                        <div class="question">
                            <label class="question-text" for="meatDairyConsumption">13. How often did you consume meat or dairy over the past month?</label>
                            <div>
                                <input type="radio" id="meatDaily" name="meatDairyConsumption" value="Daily">
                                <label class="option-label" for="meatDaily">Daily</label>
                            </div>
                            <div>
                                <input type="radio" id="meatFewTimes" name="meatDairyConsumption" value="A few times a week">
                                <label class="option-label" for="meatFewTimes">A few times a week</label>
                            </div>
                            <div>
                                <input type="radio" id="meatOnceWeek" name="meatDairyConsumption" value="Once a week">
                                <label class="option-label" for="meatOnceWeek">Once a week</label>
                            </div>
                            <div>
                                <input type="radio" id="meatRarely" name="meatDairyConsumption" value="Rarely">
                                <label class="option-label" for="meatRarely">Rarely</label>
                            </div>
                            <div>
                                <input type="radio" id="meatNever" name="meatDairyConsumption" value="Never" checked>
                                <label class="option-label" for="meatNever">Never</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="locallySourcedFood">14. Did you purchase locally sourced food during the past month?</label>
                            <div>
                                <input type="radio" id="localOften" name="locallySourcedFood" value="Yes, often" checked>
                                <label class="option-label" for="localOften">Yes, often</label>
                            </div>
                            <div>
                                <input type="radio" id="localOccasionally" name="locallySourcedFood" value="Yes, occasionally">
                                <label class="option-label" for="localOccasionally">Yes, occasionally</label>
                            </div>
                            <div>
                                <input type="radio" id="localNo" name="locallySourcedFood" value="No">
                                <label class="option-label" for="localNo">No</label>
                            </div>
                            <div>
                                <input type="radio" id="localUnknown" name="locallySourcedFood" value="I don’t know">
                                <label class="option-label" for="localUnknown">I don’t know</label>
                            </div>
                        </div>

                        <div class="question">
                            <label class="question-text" for="recycling">15. How much waste did you recycle during the past 30 days?</label>
                            <div>
                                <input type="radio" id="recycle100" name="recycling" value="100%" checked>
                                <label class="option-label" for="recycle100">100%</label>
                            </div>
                            <div>
                                <input type="radio" id="recycleMost" name="recycling" value="Most of it">
                                <label class="option-label" for="recycleMost">Most of it</label>
                            </div>
                            <div>
                                <input type="radio" id="recycleSome" name="recycling" value="Some of it">
                                <label class="option-label" for="recycleSome">Some of it</label>
                            </div>
                            <div>
                                <input type="radio" id="recycleNone" name="recycling" value="None">
                                <label class="option-label" for="recycleNone">None</label>
                            </div>
                        </div>
                    </div>    
                    
                    <!-- Shopping -->
                    <div class="shopping">
                        <h3>Shopping</h3>

                        <div class="question">
                            <label class="question-text" for="consumerGoods">16. How many new consumer goods (clothing, electronics, furniture, etc.) did you purchase in the past month?</label>
                            <div>
                                <input type="radio" id="goodsNone" name="consumerGoods" value="None" checked>
                                <label class="option-label" for="goodsNone">None</label>
                            </div>
                            <div>
                                <input type="radio" id="goods1to2" name="consumerGoods" value="1-2 items">
                                <label class="option-label" for="goods1to2">1-2 items</label>
                            </div>
                            <div>
                                <input type="radio" id="goods3to5" name="consumerGoods" value="3-5 items">
                                <label class="option-label" for="goods3to5">3-5 items</label>
                            </div>
                            <div>
                                <input type="radio" id="goodsMore5" name="consumerGoods" value="More than 5 items">
                                <label class="option-label" for="goodsMore5">More than 5 items</label>
                            </div>
                        </div>   

                        <div class="question">
                            <label class="question-text" for="environmentalImpact">17. Did you make any efforts to reduce your environmental impact when purchasing consumer goods (e.g., buying second-hand, sustainable brands) in the past month?</label>
                            <div>
                                <input type="radio" id="impactYes" name="environmentalImpact" value="Yes, I prioritized second-hand or sustainable brands" checked>
                                <label class="option-label" for="impactYes">Yes, I prioritized second-hand or sustainable brands</label>
                            </div>
                            <div>
                                <input type="radio" id="impactOccasionally" name="environmentalImpact" value="Occasionally, but not always">
                                <label class="option-label" for="impactOccasionally">Occasionally, but not always</label>
                            </div>
                            <div>
                                <input type="radio" id="impactNo" name="environmentalImpact" value="No, I didn’t consider it">
                                <label class="option-label" for="impactNo">No, I didn’t consider it</label>
                            </div>
                            <div>
                                <input type="radio" id="impactNone" name="environmentalImpact" value="I didn’t purchase any consumer goods">
                                <label class="option-label" for="impactNone">I didn’t purchase any consumer goods</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button Section (Fixed at the bottom) -->
                    <div class="submit-section-sticky">
                        <button id="submitBtn">Submit my answers</button>
                    </div>
                </div>   

                <!-- Chatbot Section -->
                <div class="chatbot-section">
                    <h2>Chat with PB!</h2>
                    <div class="chatbox" id="chatbox">
                        <!-- This is where chat messages will appear -->
                    </div>
                    <div class="input-area">
                        <input type="text" id="userInput" placeholder="Type your message...">
                        <button id="sendBtn">
                            <i class="fas fa-paper-plane"></i> <!-- FontAwesome icon -->
                        </button>
                    </div>
                </div>    
            </div>

            <!-- Footer Section -->
            <div class="footer-container">
                <p class="footer-text">
                    Privacy Policy: Your privacy is important to us. We do not collect any personal information that can identify you directly. Any data collected through the questionnaire is anonymous and used solely for improving the quality of the Planet Bouncer app. We do not share, sell, or distribute any user data to third parties. By using this site, you agree to our data usage policy to help promote a more sustainable future.
                </p>
            </div>  
        </div>    


        <script>
            function updateSliderValue(value) {
                document.getElementById('sliderValue').innerHTML = value + ' kWh';
            }
        </script>

        <script>
            function updateKilometersValue(value) {
                const kilometersText = document.getElementById('kilometersValue');
                if (value == 0) {
                    kilometersText.innerHTML = '0-100 km';
                } else if (value == 250) {
                    kilometersText.innerHTML = '101-500 km';
                } else if (value == 500) {
                    kilometersText.innerHTML = '501-1000 km';
                } else {
                    kilometersText.innerHTML = '1000+ km';
                }
            }
        </script>
    
        <script>
        // Event listener for Send button
        document.getElementById('sendBtn').addEventListener('click', function() {
            handleUserInput();
        });

        // Event listener for Enter key
        document.getElementById('userInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                handleUserInput();
            }
        });

        // Function to handle user input
        function handleUserInput() {
            const userInput = document.getElementById('userInput').value;

            // If input is empty, do nothing
            if (!userInput.trim()) return;

            // Display the user message in the chatbox
            const chatbox = document.getElementById('chatbox');
            chatbox.innerHTML += `<div class="message user"><strong>You:</strong> ${userInput}</div>`;

            // Clear the input field after sending
            document.getElementById('userInput').value = '';

            // Simulated bot response
            handleBotResponse(userInput);

            chatbox.scrollTop = chatbox.scrollHeight; // Auto-scroll to the bottom
        }

        // Placeholder function to simulate bot response
        function handleBotResponse(userInput) {
            const chatbox = document.getElementById('chatbox');

            // Example response
            const botResponse = `You said: "${userInput}". I'm still waiting to be connected... In the meantime, why not try the Questionnaire on the left? Discover when, this month, you’ll have used up your share of Earth's resources and might need to look for a new planet to call home!`;

            // Display the bot response in the chatbox
            chatbox.innerHTML += `<div class="message bot"><strong>PB:</strong> ${botResponse}</div>`;
            chatbox.scrollTop = chatbox.scrollHeight;  // Auto-scroll to the bottom
        }
        </script>

        <script>
            // Capture all answers and submit
            document.getElementById('submitBtn').addEventListener('click', function() {
                const userData = {
                    homeType: document.querySelector('input[name="homeType"]:checked').value,
                    homeSize: document.querySelector('input[name="homeSize"]:checked').value,
                    insulation: document.querySelector('input[name="insulation"]:checked').value,
                    energySaving: document.querySelector('input[name="energySaving"]:checked').value,
                    energySavingFrequency: document.querySelector('input[name="energySavingFrequency"]:checked').value,
                    energyUsage: document.getElementById('energyUsage').value,
                    renewableEnergy: document.querySelector('input[name="renewableEnergy"]:checked').value,
                    reduceElectricity: document.querySelector('input[name="reduceElectricity"]:checked').value,  // New Question
                    vehicleType: document.querySelector('input[name="vehicleType"]:checked').value,
                    kilometersDriven: document.getElementById('kilometersDriven').value,
                    publicTransport: document.querySelector('input[name="publicTransport"]:checked').value,
                    flightsTaken: document.querySelector('input[name="flightsTaken"]:checked').value,
                    meatDairyConsumption: document.querySelector('input[name="meatDairyConsumption"]:checked').value,
                    locallySourcedFood: document.querySelector('input[name="locallySourcedFood"]:checked').value,
                    recycling: document.querySelector('input[name="recycling"]:checked').value,
                    consumerGoods: document.querySelector('input[name="consumerGoods"]:checked').value,  // Updated name to match HTML
                    environmentalImpact: document.querySelector('input[name="environmentalImpact"]:checked').value  // Updated name to match HTML
                };

                // Call the calculation function
                const overuseDay = calculateResourceOveruse(userData);
            
                const chatbox = document.getElementById('chatbox');
                chatbox.innerHTML += `<div class="message user"><strong>You:</strong> I have completed the form.</div>`;
                

                // Display the result directly in the chatbot
                if (overuseDay === 30) {
                    // Display the special message if the user is within their share of Earth's resources
                    chatbox.innerHTML += `<div class="message bot"><strong>PB:</strong> Congratulations, your consumption of Earth's resources is within your share. You're allowed to stay another month!</div>`;
                } else {
                    // Display the usual message with the day they would run out of resources
                    chatbox.innerHTML += `<div class="message bot"><strong>PB:</strong> Based on your answers, you will exceed your share of Earth's resources by day ${overuseDay} of the month. You should prepare to be evicted from the planet!</div>`;
                }
                
            //    chatbox.innerHTML += `<div class="message bot"><strong>PB:</strong> ${botResponse}</div>`;
                chatbox.scrollTop = chatbox.scrollHeight;
            });
        </script>
    </body>
</html>
